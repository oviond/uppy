{"version":3,"names":["UIPlugin","StatusBar","Informer","ThumbnailGenerator","findAllDOMElements","toArray","getDroppedFiles","defaultPickerIcon","nanoid","memoizeOne","trapFocus","createSuperFocus","DashboardUI","packageJson","locale","memoize","default","TAB_KEY","ESC_KEY","createPromise","o","promise","Promise","resolve","reject","_disabledNodes","_classPrivateFieldLooseKey","_generateLargeThumbnailIfSingleFile","_openFileEditorWhenFilesAdded","_attachRenderFunctionToTarget","_isTargetSupported","_getAcquirers","_getProgressIndicators","_getEditors","_addSpecifiedPluginsFromOptions","_autoDiscoverPlugins","_addSupportedPluginIfNoTarget","Dashboard","constructor","uppy","opts","_this","this","Object","defineProperty","writable","value","removeTarget","plugin","pluginState","getPluginState","newTargets","targets","filter","target","id","setPluginState","addTarget","callerPluginId","name","callerPluginName","title","callerPluginType","type","msg","log","undefined","state","slice","push","el","hideAllPanels","update","activePickerPanel","showAddFilesPanel","activeOverlayType","fileCardFor","showFileEditor","emit","showPanel","canEditFile","file","editors","_classPrivateFieldLooseBase","some","getPlugin","openFileEditor","forEach","editor","selectFile","closeFileEditor","metaFields","isMetaEditorEnabled","length","saveFileEditor","save","openModal","savedScrollPosition","window","pageYOffset","savedActiveElement","document","activeElement","disablePageScrollWhenModalOpen","body","classList","add","animateOpenClose","isClosing","handler","isHidden","removeEventListener","addEventListener","browserBackButtonClose","updateBrowserHistory","handleKeyDownInModal","closeModal","manualClose","remove","superFocus","cancel","focus","_history$state","history","modalName","back","isModalOpen","requestCloseModal","onRequestCloseModal","setDarkModeCapability","isDarkModeOn","capabilities","getState","setState","darkMode","handleSystemDarkModeChange","event","isDarkModeOnNow","matches","toggleFileCard","show","fileID","getFile","toggleAddFilesPanel","addFiles","files","descriptors","map","source","data","meta","relativePath","webkitRelativePath","err","startListeningToResize","resizeObserver","ResizeObserver","entries","uppyDashboardInnerEl","width","height","contentRect","containerWidth","containerHeight","areInsidesReadyToBeVisible","observe","querySelector","makeDashboardInsidesVisibleAnywayTimeout","setTimeout","isModalAndClosed","inline","stopListeningToResize","disconnect","clearTimeout","recordIfFocusedOnUppyRecently","contains","ifFocusedOnUppyRecently","disableInteractiveElements","disable","_classPrivateFieldLoo","NODES_TO_DISABLE","nodesToDisable","querySelectorAll","node","tagName","setAttribute","disabled","dashboardIsDisabled","_history$state2","pushState","handlePopState","_event$state","keyCode","forModal","handleClickOutside","closeModalOnClickOutside","handlePaste","iteratePlugins","handleRootPaste","clipboardData","handleInputChange","preventDefault","handleDragOver","_this$opts$onDragOver","_this$opts","stopPropagation","canSomePluginHandleRootDrop","somePluginCanHandleRootDrop","canHandleRootDrop","doesEventHaveFiles","types","dataTransfer","hasFiles","disableLocalFiles","allowNewUpload","dropEffect","removeDragOverClassTimeout","isDraggingOver","onDragOver","call","handleDragLeave","_this$opts$onDragLeav","_this$opts2","onDragLeave","handleDrop","_this$opts$onDrop","_this$opts3","handleRootDrop","executedDropErrorOnce","logDropError","error","info","message","onDrop","handleRequestThumbnail","waitForThumbnailsBeforeUpload","handleCancelThumbnail","handleKeyDownInInline","forInline","handlePasteOnBody","isFocusInOverlay","handleComplete","_ref","failed","closeAfterFinish","handleCancelRestore","disableThumbnailGenerator","LARGE_THUMBNAIL","getFiles","thumbnailGenerator","setOptions","thumbnailWidth","fileForThumbnail","preview","requestThumbnail","then","firstFile","isFileEditorEnabled","initEvents","trigger","showModalTrigger","on","autoOpenFileEditor","removeEvents","off","superFocusOnEachUpdate","isFocusInUppy","isFocusNowhere","isInformerHidden","isModal","afterUpdate","saveFileCard","setFileMeta","icon","render","isSupported","newFiles","uploadStartedFiles","completeFiles","erroredFiles","inProgressFiles","inProgressNotPausedFiles","processingFiles","isUploadStarted","isAllComplete","isAllErrored","isAllPaused","getObjectOfFilesPerState","acquirers","progressindicators","theme","indexOf","fileManagerSelectionType","console","warn","totalFileCount","keys","totalProgress","direction","autoProceed","i18n","i18nArray","note","recoveredState","resumableUploads","individualCancellation","isMobileDevice","showLinkToFileUploadResult","proudlyDisplayPoweredByUppy","hideCancelButton","hideRetryButton","hidePauseResumeButton","showRemoveButtonAfterComplete","isTargetDOMEl","parentElement","allowedFileTypes","restrictions","maxNumberOfFiles","requiredMetaFields","showSelectedFiles","showNativePhotoCameraButton","showNativeVideoCameraButton","nativeCameraFacingMode","singleFileFullScreen","plugins","pluginID","mount","_plugin$opts","typesAllowed","includes","pluginAlreadyAdded","installedPlugin","install","Error","allowMultipleUploads","allowMultipleUploadBatches","disableStatusBar","use","hideUploadButton","showProgressDetails","hideAfterFinish","hideProgressAfterFinish","doneButtonHandler","disableInformer","thumbnailHeight","thumbnailType","lazy","darkModeMediaQuery","matchMedia","isDarkModeOnFromTheStart","addListener","uninstall","informer","removePlugin","statusBar","thumbnail","unmount","removeListener","defaultLocale","defaultOptions","clearUploadedFiles","i18nInit","VERSION","version"],"sources":["Dashboard.jsx"],"sourcesContent":["import { UIPlugin } from '@uppy/core'\nimport StatusBar from '@uppy/status-bar'\nimport Informer from '@uppy/informer'\nimport ThumbnailGenerator from '@uppy/thumbnail-generator'\nimport findAllDOMElements from '@uppy/utils/lib/findAllDOMElements'\nimport toArray from '@uppy/utils/lib/toArray'\nimport getDroppedFiles from '@uppy/utils/lib/getDroppedFiles'\nimport { defaultPickerIcon } from '@uppy/provider-views'\n\nimport { nanoid } from 'nanoid/non-secure'\nimport memoizeOne from 'memoize-one'\nimport * as trapFocus from './utils/trapFocus.js'\nimport createSuperFocus from './utils/createSuperFocus.js'\nimport DashboardUI from './components/Dashboard.jsx'\n\nimport packageJson from '../package.json'\nimport locale from './locale.js'\n\nconst memoize = memoizeOne.default || memoizeOne\n\nconst TAB_KEY = 9\nconst ESC_KEY = 27\n\nfunction createPromise () {\n  const o = {}\n  o.promise = new Promise((resolve, reject) => {\n    o.resolve = resolve\n    o.reject = reject\n  })\n  return o\n}\n\n/**\n * Dashboard UI with previews, metadata editing, tabs for various services and more\n */\nexport default class Dashboard extends UIPlugin {\n  static VERSION = packageJson.version\n\n  #disabledNodes = null\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'Dashboard'\n    this.title = 'Dashboard'\n    this.type = 'orchestrator'\n    this.modalName = `uppy-Dashboard-${nanoid()}`\n\n    this.defaultLocale = locale\n\n    // set default options, must be kept in sync with packages/@uppy/react/src/DashboardModal.js\n    const defaultOptions = {\n      target: 'body',\n      metaFields: [],\n      trigger: null,\n      inline: false,\n      width: 750,\n      height: 550,\n      thumbnailWidth: 280,\n      thumbnailType: 'image/jpeg',\n      waitForThumbnailsBeforeUpload: false,\n      defaultPickerIcon,\n      showLinkToFileUploadResult: false,\n      showProgressDetails: false,\n      hideUploadButton: false,\n      hideCancelButton: false,\n      hideRetryButton: false,\n      hidePauseResumeButton: false,\n      hideProgressAfterFinish: false,\n      doneButtonHandler: () => {\n        this.uppy.clearUploadedFiles()\n        this.requestCloseModal()\n      },\n      note: null,\n      closeModalOnClickOutside: false,\n      closeAfterFinish: false,\n      singleFileFullScreen: true,\n      disableStatusBar: false,\n      disableInformer: false,\n      disableThumbnailGenerator: false,\n      disablePageScrollWhenModalOpen: true,\n      animateOpenClose: true,\n      fileManagerSelectionType: 'files',\n      proudlyDisplayPoweredByUppy: true,\n      onRequestCloseModal: () => this.closeModal(),\n      showSelectedFiles: true,\n      showRemoveButtonAfterComplete: false,\n      browserBackButtonClose: false,\n      showNativePhotoCameraButton: false,\n      showNativeVideoCameraButton: false,\n      theme: 'light',\n      autoOpenFileEditor: false,\n      disabled: false,\n      disableLocalFiles: false,\n    }\n\n    // merge default options with the ones set by user\n    this.opts = { ...defaultOptions, ...opts }\n\n    this.i18nInit()\n\n    this.superFocus = createSuperFocus()\n    this.ifFocusedOnUppyRecently = false\n\n    // Timeouts\n    this.makeDashboardInsidesVisibleAnywayTimeout = null\n    this.removeDragOverClassTimeout = null\n  }\n\n  removeTarget = (plugin) => {\n    const pluginState = this.getPluginState()\n    // filter out the one we want to remove\n    const newTargets = pluginState.targets.filter(target => target.id !== plugin.id)\n\n    this.setPluginState({\n      targets: newTargets,\n    })\n  }\n\n  addTarget = (plugin) => {\n    const callerPluginId = plugin.id || plugin.constructor.name\n    const callerPluginName = plugin.title || callerPluginId\n    const callerPluginType = plugin.type\n\n    if (callerPluginType !== 'acquirer'\n        && callerPluginType !== 'progressindicator'\n        && callerPluginType !== 'editor') {\n      const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor'\n      this.uppy.log(msg, 'error')\n      return undefined\n    }\n\n    const target = {\n      id: callerPluginId,\n      name: callerPluginName,\n      type: callerPluginType,\n    }\n\n    const state = this.getPluginState()\n    const newTargets = state.targets.slice()\n    newTargets.push(target)\n\n    this.setPluginState({\n      targets: newTargets,\n    })\n\n    return this.el\n  }\n\n  hideAllPanels = () => {\n    const state = this.getPluginState()\n    const update = {\n      activePickerPanel: false,\n      showAddFilesPanel: false,\n      activeOverlayType: null,\n      fileCardFor: null,\n      showFileEditor: false,\n    }\n\n    if (state.activePickerPanel === update.activePickerPanel\n        && state.showAddFilesPanel === update.showAddFilesPanel\n        && state.showFileEditor === update.showFileEditor\n        && state.activeOverlayType === update.activeOverlayType) {\n      // avoid doing a state update if nothing changed\n      return\n    }\n\n    this.setPluginState(update)\n\n    this.uppy.emit('dashboard:close-panel', state.activePickerPanel.id)\n  }\n\n  showPanel = (id) => {\n    const { targets } = this.getPluginState()\n\n    const activePickerPanel = targets.filter((target) => {\n      return target.type === 'acquirer' && target.id === id\n    })[0]\n\n    this.setPluginState({\n      activePickerPanel,\n      activeOverlayType: 'PickerPanel',\n    })\n\n    this.uppy.emit('dashboard:show-panel', id)\n  }\n\n  canEditFile = (file) => {\n    const { targets } = this.getPluginState()\n    const editors = this.#getEditors(targets)\n\n    return editors.some((target) => (\n      this.uppy.getPlugin(target.id).canEditFile(file)\n    ))\n  }\n\n  openFileEditor = (file) => {\n    const { targets } = this.getPluginState()\n    const editors = this.#getEditors(targets)\n\n    this.setPluginState({\n      showFileEditor: true,\n      fileCardFor: file.id || null,\n      activeOverlayType: 'FileEditor',\n    })\n\n    editors.forEach((editor) => {\n      this.uppy.getPlugin(editor.id).selectFile(file)\n    })\n  }\n\n  closeFileEditor = () => {\n    const { metaFields } = this.getPluginState()\n    const isMetaEditorEnabled = metaFields && metaFields.length > 0\n\n    if (isMetaEditorEnabled) {\n      this.setPluginState({\n        showFileEditor: false,\n        activeOverlayType: 'FileCard'\n      })\n    } else {\n      this.setPluginState({\n        showFileEditor: false,\n        fileCardFor: null,\n        activeOverlayType: 'AddFiles'\n      })\n    }\n  }\n\n  saveFileEditor = () => {\n    const { targets } = this.getPluginState()\n    const editors = this.#getEditors(targets)\n\n    editors.forEach((editor) => {\n      this.uppy.getPlugin(editor.id).save()\n    })\n\n    this.closeFileEditor()\n  }\n\n  openModal = () => {\n    const { promise, resolve } = createPromise()\n    // save scroll position\n    this.savedScrollPosition = window.pageYOffset\n    // save active element, so we can restore focus when modal is closed\n    this.savedActiveElement = document.activeElement\n\n    if (this.opts.disablePageScrollWhenModalOpen) {\n      document.body.classList.add('uppy-Dashboard-isFixed')\n    }\n\n    if (this.opts.animateOpenClose && this.getPluginState().isClosing) {\n      const handler = () => {\n        this.setPluginState({\n          isHidden: false,\n        })\n        this.el.removeEventListener('animationend', handler, false)\n        resolve()\n      }\n      this.el.addEventListener('animationend', handler, false)\n    } else {\n      this.setPluginState({\n        isHidden: false,\n      })\n      resolve()\n    }\n\n    if (this.opts.browserBackButtonClose) {\n      this.updateBrowserHistory()\n    }\n\n    // handle ESC and TAB keys in modal dialog\n    document.addEventListener('keydown', this.handleKeyDownInModal)\n\n    this.uppy.emit('dashboard:modal-open')\n\n    return promise\n  }\n\n  closeModal = (opts = {}) => {\n    const {\n      // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)\n      manualClose = true,\n    } = opts\n\n    const { isHidden, isClosing } = this.getPluginState()\n    if (isHidden || isClosing) {\n      // short-circuit if animation is ongoing\n      return undefined\n    }\n\n    const { promise, resolve } = createPromise()\n\n    if (this.opts.disablePageScrollWhenModalOpen) {\n      document.body.classList.remove('uppy-Dashboard-isFixed')\n    }\n\n    if (this.opts.animateOpenClose) {\n      this.setPluginState({\n        isClosing: true,\n      })\n      const handler = () => {\n        this.setPluginState({\n          isHidden: true,\n          isClosing: false,\n        })\n\n        this.superFocus.cancel()\n        this.savedActiveElement.focus()\n\n        this.el.removeEventListener('animationend', handler, false)\n        resolve()\n      }\n      this.el.addEventListener('animationend', handler, false)\n    } else {\n      this.setPluginState({\n        isHidden: true,\n      })\n\n      this.superFocus.cancel()\n      this.savedActiveElement.focus()\n\n      resolve()\n    }\n\n    // handle ESC and TAB keys in modal dialog\n    document.removeEventListener('keydown', this.handleKeyDownInModal)\n\n    if (manualClose) {\n      if (this.opts.browserBackButtonClose) {\n        // Make sure that the latest entry in the history state is our modal name\n        // eslint-disable-next-line no-restricted-globals\n        if (history.state?.[this.modalName]) {\n          // Go back in history to clear out the entry we created (ultimately closing the modal)\n          // eslint-disable-next-line no-restricted-globals\n          history.back()\n        }\n      }\n    }\n\n    this.uppy.emit('dashboard:modal-closed')\n\n    return promise\n  }\n\n  isModalOpen = () => {\n    return !this.getPluginState().isHidden || false\n  }\n\n  requestCloseModal = () => {\n    if (this.opts.onRequestCloseModal) {\n      return this.opts.onRequestCloseModal()\n    }\n    return this.closeModal()\n  }\n\n  setDarkModeCapability = (isDarkModeOn) => {\n    const { capabilities } = this.uppy.getState()\n    this.uppy.setState({\n      capabilities: {\n        ...capabilities,\n        darkMode: isDarkModeOn,\n      },\n    })\n  }\n\n  handleSystemDarkModeChange = (event) => {\n    const isDarkModeOnNow = event.matches\n    this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`)\n    this.setDarkModeCapability(isDarkModeOnNow)\n  }\n\n  toggleFileCard = (show, fileID) => {\n    const file = this.uppy.getFile(fileID)\n    if (show) {\n      this.uppy.emit('dashboard:file-edit-start', file)\n    } else {\n      this.uppy.emit('dashboard:file-edit-complete', file)\n    }\n\n    this.setPluginState({\n      fileCardFor: show ? fileID : null,\n      activeOverlayType: show ? 'FileCard' : null,\n    })\n  }\n\n  toggleAddFilesPanel = (show) => {\n    this.setPluginState({\n      showAddFilesPanel: show,\n      activeOverlayType: show ? 'AddFiles' : null,\n    })\n  }\n\n  addFiles = (files) => {\n    const descriptors = files.map((file) => ({\n      source: this.id,\n      name: file.name,\n      type: file.type,\n      data: file,\n      meta: {\n        // path of the file relative to the ancestor directory the user selected.\n        // e.g. 'docs/Old Prague/airbnb.pdf'\n        relativePath: file.relativePath || file.webkitRelativePath || null,\n      },\n    }))\n\n    try {\n      this.uppy.addFiles(descriptors)\n    } catch (err) {\n      this.uppy.log(err)\n    }\n  }\n\n  // ___Why make insides of Dashboard invisible until first ResizeObserver event is emitted?\n  //    ResizeOberserver doesn't emit the first resize event fast enough, users can see the jump from one .uppy-size-- to\n  //    another (e.g. in Safari)\n  // ___Why not apply visibility property to .uppy-Dashboard-inner?\n  //    Because ideally, acc to specs, ResizeObserver should see invisible elements as of width 0. So even though applying\n  //    invisibility to .uppy-Dashboard-inner works now, it may not work in the future.\n  startListeningToResize = () => {\n    // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize\n    // and update containerWidth/containerHeight in plugin state accordingly.\n    // Emits first event on initialization.\n    this.resizeObserver = new ResizeObserver((entries) => {\n      const uppyDashboardInnerEl = entries[0]\n      const { width, height } = uppyDashboardInnerEl.contentRect\n\n      this.setPluginState({\n        containerWidth: width,\n        containerHeight: height,\n        areInsidesReadyToBeVisible: true,\n      })\n    })\n    this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner'))\n\n    // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view\n    this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {\n      const pluginState = this.getPluginState()\n      const isModalAndClosed = !this.opts.inline && pluginState.isHidden\n      if (// We might want to enable this in the future\n\n        // if ResizeObserver hasn't yet fired,\n        !pluginState.areInsidesReadyToBeVisible\n        // and it's not due to the modal being closed\n        && !isModalAndClosed\n      ) {\n        this.uppy.log('[Dashboard] resize event didn’t fire on time: defaulted to mobile layout', 'warning')\n\n        this.setPluginState({\n          areInsidesReadyToBeVisible: true,\n        })\n      }\n    }, 1000)\n  }\n\n  stopListeningToResize = () => {\n    this.resizeObserver.disconnect()\n\n    clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)\n  }\n\n  // Records whether we have been interacting with uppy right now,\n  // which is then used to determine whether state updates should trigger a refocusing.\n  recordIfFocusedOnUppyRecently = (event) => {\n    if (this.el.contains(event.target)) {\n      this.ifFocusedOnUppyRecently = true\n    } else {\n      this.ifFocusedOnUppyRecently = false\n      // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?\n      //    Because superFocus is debounced, when we move from Uppy to some other element on the page,\n      //    previously run superFocus sometimes hits and moves focus back to Uppy.\n      this.superFocus.cancel()\n    }\n  }\n\n  disableInteractiveElements = (disable) => {\n    const NODES_TO_DISABLE = [\n      'a[href]',\n      'input:not([disabled])',\n      'select:not([disabled])',\n      'textarea:not([disabled])',\n      'button:not([disabled])',\n      '[role=\"button\"]:not([disabled])',\n    ]\n\n    const nodesToDisable = this.#disabledNodes ?? toArray(this.el.querySelectorAll(NODES_TO_DISABLE))\n      .filter(node => !node.classList.contains('uppy-Dashboard-close'))\n\n    for (const node of nodesToDisable) {\n      // Links can’t have `disabled` attr, so we use `aria-disabled` for a11y\n      if (node.tagName === 'A') {\n        node.setAttribute('aria-disabled', disable)\n      } else {\n        node.disabled = disable\n      }\n    }\n\n    if (disable) {\n      this.#disabledNodes = nodesToDisable\n    } else {\n      this.#disabledNodes = null\n    }\n\n    this.dashboardIsDisabled = disable\n  }\n\n  updateBrowserHistory = () => {\n    // Ensure history state does not already contain our modal name to avoid double-pushing\n    // eslint-disable-next-line no-restricted-globals\n    if (!history.state?.[this.modalName]) {\n      // Push to history so that the page is not lost on browser back button press\n      // eslint-disable-next-line no-restricted-globals\n      history.pushState({\n        // eslint-disable-next-line no-restricted-globals\n        ...history.state,\n        [this.modalName]: true,\n      }, '')\n    }\n\n    // Listen for back button presses\n    window.addEventListener('popstate', this.handlePopState, false)\n  }\n\n  handlePopState = (event) => {\n    // Close the modal if the history state no longer contains our modal name\n    if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {\n      this.closeModal({ manualClose: false })\n    }\n\n    // When the browser back button is pressed and uppy is now the latest entry\n    // in the history but the modal is closed, fix the history by removing the\n    // uppy history entry.\n    // This occurs when another entry is added into the history state while the\n    // modal is open, and then the modal gets manually closed.\n    // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n    if (!this.isModalOpen() && event.state?.[this.modalName]) {\n      // eslint-disable-next-line no-restricted-globals\n      history.back()\n    }\n  }\n\n  handleKeyDownInModal = (event) => {\n    // close modal on esc key press\n    if (event.keyCode === ESC_KEY) this.requestCloseModal(event)\n    // trap focus on tab key press\n    if (event.keyCode === TAB_KEY) trapFocus.forModal(event, this.getPluginState().activeOverlayType, this.el)\n  }\n\n  handleClickOutside = () => {\n    if (this.opts.closeModalOnClickOutside) this.requestCloseModal()\n  }\n\n  handlePaste = (event) => {\n    // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root\n    this.uppy.iteratePlugins((plugin) => {\n      if (plugin.type === 'acquirer') {\n        // Every Plugin with .type acquirer can define handleRootPaste(event)\n        plugin.handleRootPaste?.(event)\n      }\n    })\n\n    // Add all dropped files\n    const files = toArray(event.clipboardData.files)\n    if (files.length > 0) {\n      this.uppy.log('[Dashboard] Files pasted')\n      this.addFiles(files)\n    }\n  }\n\n  handleInputChange = (event) => {\n    event.preventDefault()\n    const files = toArray(event.target.files)\n    if (files.length > 0) {\n      this.uppy.log('[Dashboard] Files selected through input')\n      this.addFiles(files)\n    }\n  }\n\n  handleDragOver = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    // Check if some plugin can handle the datatransfer without files —\n    // for instance, the Url plugin can import a url\n    const canSomePluginHandleRootDrop = () => {\n      let somePluginCanHandleRootDrop = true\n      this.uppy.iteratePlugins((plugin) => {\n        if (plugin.canHandleRootDrop?.(event)) {\n          somePluginCanHandleRootDrop = true\n        }\n      })\n      return somePluginCanHandleRootDrop\n    }\n\n    // Check if the \"type\" of the datatransfer object includes files\n    const doesEventHaveFiles = () => {\n      const { types } = event.dataTransfer\n      return types.some(type => type === 'Files')\n    }\n\n    // Deny drop, if no plugins can handle datatransfer, there are no files,\n    // or when opts.disabled is set, or new uploads are not allowed\n    const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop(event)\n    const hasFiles = doesEventHaveFiles(event)\n    if (\n      (!somePluginCanHandleRootDrop && !hasFiles)\n      || this.opts.disabled\n      // opts.disableLocalFiles should only be taken into account if no plugins\n      // can handle the datatransfer\n      || (this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop))\n      || !this.uppy.getState().allowNewUpload\n    ) {\n      event.dataTransfer.dropEffect = 'none' // eslint-disable-line no-param-reassign\n      clearTimeout(this.removeDragOverClassTimeout)\n      return\n    }\n\n    // Add a small (+) icon on drop\n    // (and prevent browsers from interpreting this as files being _moved_ into the\n    // browser, https://github.com/transloadit/uppy/issues/1978).\n    event.dataTransfer.dropEffect = 'copy' // eslint-disable-line no-param-reassign\n\n    clearTimeout(this.removeDragOverClassTimeout)\n    this.setPluginState({ isDraggingOver: true })\n\n    this.opts.onDragOver?.(event)\n  }\n\n  handleDragLeave = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    clearTimeout(this.removeDragOverClassTimeout)\n    // Timeout against flickering, this solution is taken from drag-drop library.\n    // Solution with 'pointer-events: none' didn't work across browsers.\n    this.removeDragOverClassTimeout = setTimeout(() => {\n      this.setPluginState({ isDraggingOver: false })\n    }, 50)\n\n    this.opts.onDragLeave?.(event)\n  }\n\n  handleDrop = async (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    clearTimeout(this.removeDragOverClassTimeout)\n\n    this.setPluginState({ isDraggingOver: false })\n\n    // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root\n    this.uppy.iteratePlugins((plugin) => {\n      if (plugin.type === 'acquirer') {\n        // Every Plugin with .type acquirer can define handleRootDrop(event)\n        plugin.handleRootDrop?.(event)\n      }\n    })\n\n    // Add all dropped files\n    let executedDropErrorOnce = false\n    const logDropError = (error) => {\n      this.uppy.log(error, 'error')\n\n      // In practice all drop errors are most likely the same,\n      // so let's just show one to avoid overwhelming the user\n      if (!executedDropErrorOnce) {\n        this.uppy.info(error.message, 'error')\n        executedDropErrorOnce = true\n      }\n    }\n\n    this.uppy.log('[Dashboard] Processing dropped files')\n\n    // Add all dropped files\n    const files = await getDroppedFiles(event.dataTransfer, { logDropError })\n    if (files.length > 0) {\n      this.uppy.log('[Dashboard] Files dropped')\n      this.addFiles(files)\n    }\n\n    this.opts.onDrop?.(event)\n  }\n\n  handleRequestThumbnail = (file) => {\n    if (!this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.emit('thumbnail:request', file)\n    }\n  }\n\n  /**\n   * We cancel thumbnail requests when a file item component unmounts to avoid\n   * clogging up the queue when the user scrolls past many elements.\n   */\n  handleCancelThumbnail = (file) => {\n    if (!this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.emit('thumbnail:cancel', file)\n    }\n  }\n\n  handleKeyDownInInline = (event) => {\n    // Trap focus on tab key press.\n    if (event.keyCode === TAB_KEY) trapFocus.forInline(event, this.getPluginState().activeOverlayType, this.el)\n  }\n\n  // ___Why do we listen to the 'paste' event on a document instead of onPaste={props.handlePaste} prop,\n  //    or this.el.addEventListener('paste')?\n  //    Because (at least) Chrome doesn't handle paste if focus is on some button, e.g. 'My Device'.\n  //    => Therefore, the best option is to listen to all 'paste' events, and only react to them when we are focused on our\n  //       particular Uppy instance.\n  // ___Why do we still need onPaste={props.handlePaste} for the DashboardUi?\n  //    Because if we click on the 'Drop files here' caption e.g., `document.activeElement` will be 'body'. Which means our\n  //    standard determination of whether we're pasting into our Uppy instance won't work.\n  //    => Therefore, we need a traditional onPaste={props.handlePaste} handler too.\n  handlePasteOnBody = (event) => {\n    const isFocusInOverlay = this.el.contains(document.activeElement)\n    if (isFocusInOverlay) {\n      this.handlePaste(event)\n    }\n  }\n\n  handleComplete = ({ failed }) => {\n    if (this.opts.closeAfterFinish && failed.length === 0) {\n      // All uploads are done\n      this.requestCloseModal()\n    }\n  }\n\n  handleCancelRestore = () => {\n    this.uppy.emit('restore-canceled')\n  }\n\n  #generateLargeThumbnailIfSingleFile = () => {\n    if (this.opts.disableThumbnailGenerator) {\n      return\n    }\n\n    const LARGE_THUMBNAIL = 600\n    const files = this.uppy.getFiles()\n\n    if (files.length === 1) {\n      const thumbnailGenerator = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`)\n      thumbnailGenerator?.setOptions({ thumbnailWidth: LARGE_THUMBNAIL })\n      const fileForThumbnail = { ...files[0], preview: undefined }\n      thumbnailGenerator.requestThumbnail(fileForThumbnail).then(() => {\n        thumbnailGenerator?.setOptions({ thumbnailWidth: this.opts.thumbnailWidth })\n      })\n    }\n  }\n\n  #openFileEditorWhenFilesAdded = (files) => {\n    const firstFile = files[0]\n\n    const {metaFields} = this.getPluginState()\n    const isMetaEditorEnabled = metaFields && metaFields.length > 0\n    const isFileEditorEnabled = this.canEditFile(firstFile)\n\n    if (isMetaEditorEnabled) {\n      this.toggleFileCard(true, firstFile.id)\n    } else if (isFileEditorEnabled) {\n      this.openFileEditor(firstFile)\n    }\n  }\n\n  initEvents = () => {\n    // Modal open button\n    if (this.opts.trigger && !this.opts.inline) {\n      const showModalTrigger = findAllDOMElements(this.opts.trigger)\n      if (showModalTrigger) {\n        showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal))\n      } else {\n        this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning')\n      }\n    }\n\n    this.startListeningToResize()\n    document.addEventListener('paste', this.handlePasteOnBody)\n\n    this.uppy.on('plugin-added', this.#addSupportedPluginIfNoTarget)\n    this.uppy.on('plugin-remove', this.removeTarget)\n    this.uppy.on('file-added', this.hideAllPanels)\n    this.uppy.on('dashboard:modal-closed', this.hideAllPanels)\n    this.uppy.on('complete', this.handleComplete)\n\n    this.uppy.on('files-added', this.#generateLargeThumbnailIfSingleFile)\n    this.uppy.on('file-removed', this.#generateLargeThumbnailIfSingleFile)\n\n    // ___Why fire on capture?\n    //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.\n    document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true)\n    document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true)\n\n    if (this.opts.inline) {\n      this.el.addEventListener('keydown', this.handleKeyDownInInline)\n    }\n\n    if (this.opts.autoOpenFileEditor) {\n      this.uppy.on('files-added', this.#openFileEditorWhenFilesAdded)\n    }\n  }\n\n  removeEvents = () => {\n    const showModalTrigger = findAllDOMElements(this.opts.trigger)\n    if (!this.opts.inline && showModalTrigger) {\n      showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal))\n    }\n\n    this.stopListeningToResize()\n    document.removeEventListener('paste', this.handlePasteOnBody)\n    window.removeEventListener('popstate', this.handlePopState, false)\n\n    this.uppy.off('plugin-added', this.#addSupportedPluginIfNoTarget)\n    this.uppy.off('plugin-remove', this.removeTarget)\n    this.uppy.off('file-added', this.hideAllPanels)\n    this.uppy.off('dashboard:modal-closed', this.hideAllPanels)\n    this.uppy.off('complete', this.handleComplete)\n\n    this.uppy.off('files-added', this.#generateLargeThumbnailIfSingleFile)\n    this.uppy.off('file-removed', this.#generateLargeThumbnailIfSingleFile)\n\n    document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently)\n    document.removeEventListener('click', this.recordIfFocusedOnUppyRecently)\n\n    if (this.opts.inline) {\n      this.el.removeEventListener('keydown', this.handleKeyDownInInline)\n    }\n\n    if (this.opts.autoOpenFileEditor) {\n      this.uppy.off('files-added', this.#openFileEditorWhenFilesAdded)\n    }\n  }\n\n  superFocusOnEachUpdate = () => {\n    const isFocusInUppy = this.el.contains(document.activeElement)\n    // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)\n    const isFocusNowhere = document.activeElement === document.body || document.activeElement === null\n    const isInformerHidden = this.uppy.getState().info.length === 0\n    const isModal = !this.opts.inline\n\n    if (\n      // If update is connected to showing the Informer - let the screen reader calmly read it.\n      isInformerHidden\n      && (\n        // If we are in a modal - always superfocus without concern for other elements\n        // on the page (user is unlikely to want to interact with the rest of the page)\n        isModal\n        // If we are already inside of Uppy, or\n        || isFocusInUppy\n        // If we are not focused on anything BUT we have already, at least once, focused on uppy\n        //   1. We focus when isFocusNowhere, because when the element we were focused\n        //      on disappears (e.g. an overlay), - focus gets lost. If user is typing\n        //      something somewhere else on the page, - focus won't be 'nowhere'.\n        //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,\n        //      to avoid focus jumps if we do something else on the page.\n        //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,\n        //                     when file is uploading, - navigate via tab to the checkbox,\n        //                     try to press space multiple times. Focus will jump to Uppy.\n        || (isFocusNowhere && this.ifFocusedOnUppyRecently)\n      )\n    ) {\n      this.superFocus(this.el, this.getPluginState().activeOverlayType)\n    } else {\n      this.superFocus.cancel()\n    }\n  }\n\n  afterUpdate = () => {\n    if (this.opts.disabled && !this.dashboardIsDisabled) {\n      this.disableInteractiveElements(true)\n      return\n    }\n\n    if (!this.opts.disabled && this.dashboardIsDisabled) {\n      this.disableInteractiveElements(false)\n    }\n\n    this.superFocusOnEachUpdate()\n  }\n\n  saveFileCard = (meta, fileID) => {\n    this.uppy.setFileMeta(fileID, meta)\n    this.toggleFileCard(false, fileID)\n  }\n\n  #attachRenderFunctionToTarget = (target) => {\n    const plugin = this.uppy.getPlugin(target.id)\n    return {\n      ...target,\n      icon: plugin.icon || this.opts.defaultPickerIcon,\n      render: plugin.render,\n    }\n  }\n\n  #isTargetSupported = (target) => {\n    const plugin = this.uppy.getPlugin(target.id)\n    // If the plugin does not provide a `supported` check, assume the plugin works everywhere.\n    if (typeof plugin.isSupported !== 'function') {\n      return true\n    }\n    return plugin.isSupported()\n  }\n\n  #getAcquirers = memoize((targets) => {\n    return targets\n      .filter(target => target.type === 'acquirer' && this.#isTargetSupported(target))\n      .map(this.#attachRenderFunctionToTarget)\n  })\n\n  #getProgressIndicators = memoize((targets) => {\n    return targets\n      .filter(target => target.type === 'progressindicator')\n      .map(this.#attachRenderFunctionToTarget)\n  })\n\n  #getEditors = memoize((targets) => {\n    return targets\n      .filter(target => target.type === 'editor')\n      .map(this.#attachRenderFunctionToTarget)\n  })\n\n  render = (state) => {\n    const pluginState = this.getPluginState()\n    const { files, capabilities, allowNewUpload } = state\n    const {\n      newFiles,\n      uploadStartedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n\n      isUploadStarted,\n      isAllComplete,\n      isAllErrored,\n      isAllPaused,\n    } = this.uppy.getObjectOfFilesPerState()\n\n    const acquirers = this.#getAcquirers(pluginState.targets)\n    const progressindicators = this.#getProgressIndicators(pluginState.targets)\n    const editors = this.#getEditors(pluginState.targets)\n\n    let theme\n    if (this.opts.theme === 'auto') {\n      theme = capabilities.darkMode ? 'dark' : 'light'\n    } else {\n      theme = this.opts.theme\n    }\n\n    if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {\n      this.opts.fileManagerSelectionType = 'files'\n      // eslint-disable-next-line no-console\n      console.warn(`Unsupported option for \"fileManagerSelectionType\". Using default of \"${this.opts.fileManagerSelectionType}\".`)\n    }\n\n    return DashboardUI({\n      state,\n      isHidden: pluginState.isHidden,\n      files,\n      newFiles,\n      uploadStartedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted,\n      isAllComplete,\n      isAllErrored,\n      isAllPaused,\n      totalFileCount: Object.keys(files).length,\n      totalProgress: state.totalProgress,\n      allowNewUpload,\n      acquirers,\n      theme,\n      disabled: this.opts.disabled,\n      disableLocalFiles: this.opts.disableLocalFiles,\n      direction: this.opts.direction,\n      activePickerPanel: pluginState.activePickerPanel,\n      showFileEditor: pluginState.showFileEditor,\n      saveFileEditor: this.saveFileEditor,\n      closeFileEditor: this.closeFileEditor,\n      disableInteractiveElements: this.disableInteractiveElements,\n      animateOpenClose: this.opts.animateOpenClose,\n      isClosing: pluginState.isClosing,\n      progressindicators,\n      editors,\n      autoProceed: this.uppy.opts.autoProceed,\n      id: this.id,\n      closeModal: this.requestCloseModal,\n      handleClickOutside: this.handleClickOutside,\n      handleInputChange: this.handleInputChange,\n      handlePaste: this.handlePaste,\n      inline: this.opts.inline,\n      showPanel: this.showPanel,\n      hideAllPanels: this.hideAllPanels,\n      i18n: this.i18n,\n      i18nArray: this.i18nArray,\n      uppy: this.uppy,\n      note: this.opts.note,\n      recoveredState: state.recoveredState,\n      metaFields: pluginState.metaFields,\n      resumableUploads: capabilities.resumableUploads || false,\n      individualCancellation: capabilities.individualCancellation,\n      isMobileDevice: capabilities.isMobileDevice,\n      fileCardFor: pluginState.fileCardFor,\n      toggleFileCard: this.toggleFileCard,\n      toggleAddFilesPanel: this.toggleAddFilesPanel,\n      showAddFilesPanel: pluginState.showAddFilesPanel,\n      saveFileCard: this.saveFileCard,\n      openFileEditor: this.openFileEditor,\n      canEditFile: this.canEditFile,\n      width: this.opts.width,\n      height: this.opts.height,\n      showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,\n      fileManagerSelectionType: this.opts.fileManagerSelectionType,\n      proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,\n      hideCancelButton: this.opts.hideCancelButton,\n      hideRetryButton: this.opts.hideRetryButton,\n      hidePauseResumeButton: this.opts.hidePauseResumeButton,\n      showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,\n      containerWidth: pluginState.containerWidth,\n      containerHeight: pluginState.containerHeight,\n      areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,\n      isTargetDOMEl: this.isTargetDOMEl,\n      parentElement: this.el,\n      allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,\n      maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,\n      requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,\n      showSelectedFiles: this.opts.showSelectedFiles,\n      showNativePhotoCameraButton: this.opts.showNativePhotoCameraButton,\n      showNativeVideoCameraButton: this.opts.showNativeVideoCameraButton,\n      nativeCameraFacingMode: this.opts.nativeCameraFacingMode,\n      singleFileFullScreen: this.opts.singleFileFullScreen,\n      handleCancelRestore: this.handleCancelRestore,\n      handleRequestThumbnail: this.handleRequestThumbnail,\n      handleCancelThumbnail: this.handleCancelThumbnail,\n      // drag props\n      isDraggingOver: pluginState.isDraggingOver,\n      handleDragOver: this.handleDragOver,\n      handleDragLeave: this.handleDragLeave,\n      handleDrop: this.handleDrop,\n    })\n  }\n\n  #addSpecifiedPluginsFromOptions = () => {\n    const plugins = this.opts.plugins || []\n\n    plugins.forEach((pluginID) => {\n      const plugin = this.uppy.getPlugin(pluginID)\n      if (plugin) {\n        plugin.mount(this, plugin)\n      } else {\n        this.uppy.log(`[Uppy] Dashboard could not find plugin '${pluginID}', make sure to uppy.use() the plugins you are specifying`, 'warning')\n      }\n    })\n  }\n\n  #autoDiscoverPlugins = () => {\n    this.uppy.iteratePlugins(this.#addSupportedPluginIfNoTarget)\n  }\n\n  #addSupportedPluginIfNoTarget = (plugin) => {\n    // Only these types belong on the Dashboard,\n    // we wouldn’t want to try and mount Compressor or Tus, for example.\n    const typesAllowed = ['acquirer', 'editor']\n    if (plugin && !plugin.opts?.target && typesAllowed.includes(plugin.type)) {\n      const pluginAlreadyAdded = this.getPluginState().targets.some(\n        installedPlugin => plugin.id === installedPlugin.id,\n      )\n      if (!pluginAlreadyAdded) {\n        plugin.mount(this, plugin)\n      }\n    }\n  }\n\n  install = () => {\n    // Set default state for Dashboard\n    this.setPluginState({\n      isHidden: true,\n      fileCardFor: null,\n      activeOverlayType: null,\n      showAddFilesPanel: false,\n      activePickerPanel: false,\n      showFileEditor: false,\n      metaFields: this.opts.metaFields,\n      targets: [],\n      // We'll make them visible once .containerWidth is determined\n      areInsidesReadyToBeVisible: false,\n      isDraggingOver: false,\n    })\n\n    const { inline, closeAfterFinish } = this.opts\n    if (inline && closeAfterFinish) {\n      throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.')\n    }\n\n    const { allowMultipleUploads, allowMultipleUploadBatches } = this.uppy.opts\n    if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {\n      this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning')\n    }\n\n    const { target } = this.opts\n\n    if (target) {\n      this.mount(target, this)\n    }\n\n    if (!this.opts.disableStatusBar) {\n      this.uppy.use(StatusBar, {\n        id: `${this.id}:StatusBar`,\n        target: this,\n        hideUploadButton: this.opts.hideUploadButton,\n        hideRetryButton: this.opts.hideRetryButton,\n        hidePauseResumeButton: this.opts.hidePauseResumeButton,\n        hideCancelButton: this.opts.hideCancelButton,\n        showProgressDetails: this.opts.showProgressDetails,\n        hideAfterFinish: this.opts.hideProgressAfterFinish,\n        locale: this.opts.locale,\n        doneButtonHandler: this.opts.doneButtonHandler,\n      })\n    }\n\n    if (!this.opts.disableInformer) {\n      this.uppy.use(Informer, {\n        id: `${this.id}:Informer`,\n        target: this,\n      })\n    }\n\n    if (!this.opts.disableThumbnailGenerator) {\n      this.uppy.use(ThumbnailGenerator, {\n        id: `${this.id}:ThumbnailGenerator`,\n        thumbnailWidth: this.opts.thumbnailWidth,\n        thumbnailHeight: this.opts.thumbnailHeight,\n        thumbnailType: this.opts.thumbnailType,\n        waitForThumbnailsBeforeUpload: this.opts.waitForThumbnailsBeforeUpload,\n        // If we don't block on thumbnails, we can lazily generate them\n        lazy: !this.opts.waitForThumbnailsBeforeUpload,\n      })\n    }\n\n    // Dark Mode / theme\n    this.darkModeMediaQuery = (typeof window !== 'undefined' && window.matchMedia)\n      ? window.matchMedia('(prefers-color-scheme: dark)')\n      : null\n\n    const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false\n    this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`)\n    this.setDarkModeCapability(isDarkModeOnFromTheStart)\n\n    if (this.opts.theme === 'auto') {\n      this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange)\n    }\n\n    this.#addSpecifiedPluginsFromOptions()\n    this.#autoDiscoverPlugins()\n    this.initEvents()\n  }\n\n  uninstall = () => {\n    if (!this.opts.disableInformer) {\n      const informer = this.uppy.getPlugin(`${this.id}:Informer`)\n      // Checking if this plugin exists, in case it was removed by uppy-core\n      // before the Dashboard was.\n      if (informer) this.uppy.removePlugin(informer)\n    }\n\n    if (!this.opts.disableStatusBar) {\n      const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`)\n      if (statusBar) this.uppy.removePlugin(statusBar)\n    }\n\n    if (!this.opts.disableThumbnailGenerator) {\n      const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`)\n      if (thumbnail) this.uppy.removePlugin(thumbnail)\n    }\n\n    const plugins = this.opts.plugins || []\n    plugins.forEach((pluginID) => {\n      const plugin = this.uppy.getPlugin(pluginID)\n      if (plugin) plugin.unmount()\n    })\n\n    if (this.opts.theme === 'auto') {\n      this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange)\n    }\n\n    if (this.opts.disablePageScrollWhenModalOpen) {\n      document.body.classList.remove('uppy-Dashboard-isFixed')\n    }\n\n    this.unmount()\n    this.removeEvents()\n  }\n}\n"],"mappings":"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"}