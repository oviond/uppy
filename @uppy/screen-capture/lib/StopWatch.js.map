{"version":3,"names":["h","Component","StopWatch","constructor","props","state","elapsedTime","wrapperStyle","width","height","display","overlayStyle","position","background","opacity","infoContainerStyle","marginLeft","marginRight","marginTop","marginBottom","zIndex","color","infotextStyle","fontSize","timeStyle","fontWeight","fontFamily","startTimer","timerTick","timerRunning","resetTimer","clearTimeout","timer","setState","setTimeout","fmtMSS","s","render","recording","i18n","minAndSec","style"],"sources":["StopWatch.jsx"],"sourcesContent":["import { h, Component } from 'preact'\n\nclass StopWatch extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { elapsedTime: 0 }\n\n    this.wrapperStyle = {\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n    }\n\n    this.overlayStyle = {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      background: 'black',\n      opacity: 0.7,\n    }\n\n    this.infoContainerStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginTop: 'auto',\n      marginBottom: 'auto',\n      zIndex: 1,\n      color: 'white',\n    }\n\n    this.infotextStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginBottom: '1rem',\n      fontSize: '1.5rem',\n    }\n\n    this.timeStyle = {\n      display: 'block',\n      fontWeight: 'bold',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      fontSize: '3rem',\n      fontFamily: 'Courier New',\n    }\n  }\n\n  startTimer () {\n    this.timerTick()\n    this.timerRunning = true\n  }\n\n  resetTimer () {\n    clearTimeout(this.timer)\n    this.setState({ elapsedTime: 0 })\n    this.timerRunning = false\n  }\n\n  timerTick () {\n    this.timer = setTimeout(() => {\n      this.setState(state => ({ elapsedTime: state.elapsedTime + 1 }))\n      this.timerTick()\n    }, 1000)\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  fmtMSS (s) {\n    // eslint-disable-next-line no-return-assign, no-param-reassign\n    return (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s\n  }\n\n  render () {\n    const { recording, i18n } = { ...this.props }\n    const { elapsedTime } = this.state\n\n    // second to minutes and seconds\n    const minAndSec = this.fmtMSS(elapsedTime)\n\n    if (recording && !this.timerRunning) {\n      this.startTimer()\n    }\n\n    if (!recording && this.timerRunning) {\n      this.resetTimer()\n    }\n\n    if (recording) {\n      return (\n        <div style={this.wrapperStyle}>\n          <div style={this.overlayStyle} />\n          <div style={this.infoContainerStyle}>\n            <div style={this.infotextStyle}>\n              {i18n('recording')}\n            </div>\n            <div style={this.timeStyle}>\n              {minAndSec}\n            </div>\n          </div>\n\n        </div>\n      )\n    }\n    return null\n  }\n}\n\nexport default StopWatch\n"],"mappings":"AAAA,SAASA,CAAC,EAAEC,SAAS,QAAQ,QAAQ;AAErC,MAAMC,SAAS,SAASD,SAAS,CAAC;EAChCE,WAAWA,CAAEC,KAAK,EAAE;IAClB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MAAEC,WAAW,EAAE;IAAE,CAAC;IAE/B,IAAI,CAACC,YAAY,GAAG;MAClBC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;IACX,CAAC;IAED,IAAI,CAACC,YAAY,GAAG;MAClBC,QAAQ,EAAE,UAAU;MACpBJ,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,MAAM;MACdI,UAAU,EAAE,OAAO;MACnBC,OAAO,EAAE;IACX,CAAC;IAED,IAAI,CAACC,kBAAkB,GAAG;MACxBC,UAAU,EAAE,MAAM;MAClBC,WAAW,EAAE,MAAM;MACnBC,SAAS,EAAE,MAAM;MACjBC,YAAY,EAAE,MAAM;MACpBC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACT,CAAC;IAED,IAAI,CAACC,aAAa,GAAG;MACnBN,UAAU,EAAE,MAAM;MAClBC,WAAW,EAAE,MAAM;MACnBE,YAAY,EAAE,MAAM;MACpBI,QAAQ,EAAE;IACZ,CAAC;IAED,IAAI,CAACC,SAAS,GAAG;MACfd,OAAO,EAAE,OAAO;MAChBe,UAAU,EAAE,MAAM;MAClBT,UAAU,EAAE,MAAM;MAClBC,WAAW,EAAE,MAAM;MACnBM,QAAQ,EAAE,MAAM;MAChBG,UAAU,EAAE;IACd,CAAC;EACH;EAEAC,UAAUA,CAAA,EAAI;IACZ,IAAI,CAACC,SAAS,CAAC,CAAC;IAChB,IAAI,CAACC,YAAY,GAAG,IAAI;EAC1B;EAEAC,UAAUA,CAAA,EAAI;IACZC,YAAY,CAAC,IAAI,CAACC,KAAK,CAAC;IACxB,IAAI,CAACC,QAAQ,CAAC;MAAE3B,WAAW,EAAE;IAAE,CAAC,CAAC;IACjC,IAAI,CAACuB,YAAY,GAAG,KAAK;EAC3B;EAEAD,SAASA,CAAA,EAAI;IACX,IAAI,CAACI,KAAK,GAAGE,UAAU,CAAC,MAAM;MAC5B,IAAI,CAACD,QAAQ,CAAC5B,KAAK,KAAK;QAAEC,WAAW,EAAED,KAAK,CAACC,WAAW,GAAG;MAAE,CAAC,CAAC,CAAC;MAChE,IAAI,CAACsB,SAAS,CAAC,CAAC;IAClB,CAAC,EAAE,IAAI,CAAC;EACV;;EAEA;EACAO,MAAMA,CAAEC,CAAC,EAAE;IACT;IACA,OAAO,CAACA,CAAC,IAAIA,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,IAAIA,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAGA,CAAC;EACxD;EAEAC,MAAMA,CAAA,EAAI;IACR,MAAM;MAAEC,SAAS;MAAEC;IAAK,CAAC,GAAG;MAAE,GAAG,IAAI,CAACnC;IAAM,CAAC;IAC7C,MAAM;MAAEE;IAAY,CAAC,GAAG,IAAI,CAACD,KAAK;;IAElC;IACA,MAAMmC,SAAS,GAAG,IAAI,CAACL,MAAM,CAAC7B,WAAW,CAAC;IAE1C,IAAIgC,SAAS,IAAI,CAAC,IAAI,CAACT,YAAY,EAAE;MACnC,IAAI,CAACF,UAAU,CAAC,CAAC;IACnB;IAEA,IAAI,CAACW,SAAS,IAAI,IAAI,CAACT,YAAY,EAAE;MACnC,IAAI,CAACC,UAAU,CAAC,CAAC;IACnB;IAEA,IAAIQ,SAAS,EAAE;MACb,OACEtC,CAAA;QAAKyC,KAAK,EAAE,IAAI,CAAClC;MAAa,GAC5BP,CAAA;QAAKyC,KAAK,EAAE,IAAI,CAAC9B;MAAa,CAAE,CAAC,EACjCX,CAAA;QAAKyC,KAAK,EAAE,IAAI,CAAC1B;MAAmB,GAClCf,CAAA;QAAKyC,KAAK,EAAE,IAAI,CAACnB;MAAc,GAC5BiB,IAAI,CAAC,WAAW,CACd,CAAC,EACNvC,CAAA;QAAKyC,KAAK,EAAE,IAAI,CAACjB;MAAU,GACxBgB,SACE,CACF,CAEF,CAAC;IAEV;IACA,OAAO,IAAI;EACb;AACF;AAEA,eAAetC,SAAS"}